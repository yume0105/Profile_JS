@import "tailwindcss";

:root {
  --text-main: #4a306d;
  --text-sub: #706fd3;
  --accent: #ff6b81;
  --glass-bg: rgba(255, 255, 255, 0.55);
  --glass-border: rgba(255, 255, 255, 0.8);
  --glass-shadow: 0 8px 32px 0 rgba(100, 100, 130, 0.15);
}

/* --- 修正ポイント1：htmlのガチガチ拘束を解除 --- */
html {
  /* position: fixed; は削除 */
  /* overflow: hidden; は削除 */
  width: 100%;
  /* 横スクロールだけ防ぐならbodyでやるのが安全 */
}

body {
  margin: 0;
  padding: 0;
  font-family: 'Noto Sans JP', sans-serif;
  color: var(--text-main);
  
  background: linear-gradient(-45deg, #ff9a9e, #fad0c4, #fad0c4, #a18cd1);
  background-size: 400% 400%;
  animation: gradientBG 10s ease infinite;

  /* --- 修正ポイント2：高さ固定をやめて「最低の高さ」にする --- */
  min-height: 100vh; /* 中身が少ない時は画面いっぱい、増えたら伸びる */
  width: 100%;
  
  /* 横スクロール対策 */
  overflow-x: hidden; 

  /* 上下左右中央配置の設定 */
  display: flex;
  flex-direction: column; /* 縦並びを基本にする */
  justify-content: center;
  align-items: center;
  
  /* コンテンツが画面より大きくなった時のための余白 */
  padding: 20px 0; 
  box-sizing: border-box;
}

a {
  color: var(--accent);
  text-decoration: none;
  transition: 0.3s;
}
a:hover { opacity: 0.7; }

footer {
  font-size: 0.8rem;
  color: #888;
  margin-top: 20px; /* カードとの距離 */
}

@keyframes gradientBG {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

/* --- レイアウト --- */
.card {
  background: var(--glass-bg);
  backdrop-filter: blur(16px);
  -webkit-backdrop-filter: blur(16px);
  border: 2px solid var(--glass-border);
  border-radius: 24px;
  padding: 30px 24px;
  
  /* サイズ設定 */
  width: 90%; /* 基本は90%（スマホ意識） */
  max-width: 380px; /* PCではこの幅で止まる */
  
  text-align: center;
  box-shadow: var(--glass-shadow);
  position: relative;
  box-sizing: border-box;
  
  /* --- 修正ポイント3：高さ制限の緩和 --- */
  height: auto; 
  /* max-height: 90vh; ← これは削除（中身が溢れる原因になるため） */

  animation: floatUp 1s cubic-bezier(0.22, 1, 0.36, 1) forwards;
  opacity: 0;
  transform: translateY(30px);
  
  /* Flexboxアイテムとしての設定 */
  margin: auto; /* これがあると、flexコンテナ内で上下左右の余白が自動調整されて中央に来る */
}

.card-wide {
  max-width: 800px;
  width: 90%;
  padding: 30px;
  margin: auto; /* 中央配置 */
}

/* その他の装飾系（変更なしでOK） */
.card::before {
  content: '';
  position: absolute;
  top: -50%;
  left: -50%;
  width: 200%;
  height: 200%;
  background: radial-gradient(circle, rgba(255,255,255,0.4) 0%, transparent 70%);
  transform: rotate(30deg);
  pointer-events: none;
  z-index: -1;
}

@keyframes floatUp {
  to { opacity: 1; transform: translateY(0); }
}

/* コンポーネント類（nav-header以下）はそのまま利用可能なので省略しませんが、
   変更の必要はありません。そのまま使ってください。 */

.nav-header { width: 100%; display: flex; justify-content: flex-start; align-items: center; margin-bottom: 20px; }
.back-btn { display: inline-flex; align-items: center; padding: 8px 16px; background: rgba(255, 255, 255, 0.4); border-radius: 20px; font-size: 0.8rem; font-weight: 600; color: var(--text-main); border: 1px solid white; }
.back-btn:hover { background: white; color: var(--accent); }
.page-title { font-family: 'Cinzel', serif; font-size: 1.5rem; margin: 0 0 25px 0; color: var(--text-main); border-bottom: 1px dashed rgba(255,255,255,0.5); padding-bottom: 10px; }
.avatar-container { position: relative; width: 100px; height: 100px; margin: 0 auto 20px; }
.orbit { position: absolute; top: -10px; left: -10px; width: 120px; height: 120px; border-radius: 50%; border: 1px dashed rgba(255, 255, 255, 0.8); animation: spin 10s linear infinite; z-index: 1; }
.avatar { width: 100%; height: 100%; border-radius: 50%; object-fit: cover; border: 3px solid #ffffff; position: relative; z-index: 2; box-shadow: 0 4px 10px rgba(0,0,0,0.1); }
.name-title { font-family: 'Cinzel', serif; font-size: 1.8rem; font-weight: 600; margin: 0; letter-spacing: 0.05em; color: var(--text-main); }
.kana-name { font-family: 'Noto Sans JP', sans-serif; font-size: 0.75rem; color: var(--text-main); margin-top: 2px; margin-bottom: 15px; letter-spacing: 0.1em; font-weight: 400; }
.role { color: var(--accent); font-size: 0.75rem; text-transform: uppercase; letter-spacing: 0.2em; margin-top: 8px; margin-bottom: 20px; font-weight: 600; }
.bio { color: #555; font-size: 0.8rem; line-height: 1.7; margin-bottom: 15px; font-weight: 400; text-align: center; padding: 0 10px; }
.email { color: #555; font-size: 0.8rem; text-align: center; }
.email-link { color: var(--accent); font-size: 0.8rem; }
.email-link:hover { text-decoration: underline; }
.bottom-grid { display: grid; grid-template-columns: 1fr 1.4fr; gap: 12px; width: 100%; margin-top: 20px; }
.sns-area { display: grid; grid-template-columns: 1fr 1fr; grid-template-rows: 1fr 1fr; gap: 8px; }
.sns-btn { display: flex; justify-content: center; align-items: center; aspect-ratio: 1 / 1; background: rgba(255, 255, 255, 0.4); border: 1px solid #ffffff; border-radius: 12px; color: var(--text-main); font-size: 1.2rem; text-decoration: none; transition: all 0.3s ease; box-shadow: 0 2px 5px rgba(0,0,0,0.05); }
.sns-btn:hover { background: #ffffff; color: var(--accent); transform: translateY(-2px); box-shadow: 0 5px 15px rgba(255, 154, 158, 0.4); }
.link-area { display: flex; flex-direction: column; gap: 8px; }
.link-btn { flex: 1; display: flex; flex-direction: column; justify-content: center; align-items: flex-start; padding: 0 16px; background: rgba(255, 255, 255, 0.6); border: 1px solid #ffffff; border-radius: 12px; color: var(--text-main); text-decoration: none; font-size: 0.9rem; font-weight: 600; transition: all 0.3s ease; position: relative; box-shadow: 0 2px 5px rgba(0,0,0,0.05); }
.link-btn:hover { background: #ffffff; transform: translateX(2px); box-shadow: 0 5px 15px rgba(161, 140, 209, 0.3); }
.link-btn.highlight { background: rgba(255, 255, 255, 0.8); border: 1px solid var(--accent); color: var(--accent); }
.link-btn svg { position: absolute; top: 12px; right: 12px; font-size: 0.8rem; opacity: 0.6; transition: 0.3s; color: var(--text-sub); }
.link-btn:hover svg { opacity: 1; color: var(--accent); transform: translate(1px, -1px); }
.fade-up { opacity: 0; animation: slideIn 0.6s ease forwards; }
.d-1 { animation-delay: 0.2s; } .d-2 { animation-delay: 0.4s; } .d-3 { animation-delay: 0.6s; }
@keyframes slideIn { from { opacity: 0; transform: translateY(15px); } to { opacity: 1; transform: translateY(0); } }

/* Projects & CV styles (変更なし) */
.projects-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 20px; text-align: left; }
.project-item { background: rgba(255, 255, 255, 0.5); border-radius: 16px; border: 1px solid #fff; overflow: hidden; transition: 0.3s; display: flex; flex-direction: column; }
.project-item:hover { transform: translateY(-5px); background: rgba(255, 255, 255, 0.8); box-shadow: 0 10px 20px rgba(112, 111, 211, 0.15); }
.project-thumb { width: 100%; height: 160px; object-fit: cover; }
.project-info { padding: 15px; flex: 1; display: flex; flex-direction: column; }
.project-tags { margin-bottom: 8px; }
.tag { display: inline-block; font-size: 0.7rem; padding: 2px 8px; border-radius: 10px; background: var(--text-main); color: #fff; margin-right: 4px; margin-bottom: 4px; }
.tag.research { background: #706fd3; } .tag.dev { background: #ff6b81; } .tag.status-in-progress { background: #f7b32b; } .tag.status-finished { background: #3bb273; }
.project-title { font-size: 1.1rem; font-weight: 600; margin: 0 0 5px 0; color: var(--text-main); }
.project-desc { font-size: 0.85rem; color: #666; margin: 0; line-height: 1.5; }
.content-section { text-align: left; margin-bottom: 30px; }
.content-section h2 { font-weight: bold; font-size: 1.2rem; color: var(--text-main); border-left: 4px solid var(--accent); padding-left: 10px; margin-bottom: 15px; }
.content-section h3 { font-size: 1rem; color: var(--text-sub); margin: 15px 0 5px 0; }
.content-section p, .content-section li { font-size: 0.95rem; line-height: 1.8; color: #444; }
.hero-image { width: 100%; border-radius: 16px; margin-bottom: 20px; box-shadow: 0 4px 12px rgba(0,0,0,0.1); }
.cv-list { list-style: none; padding: 0; }
.cv-list li { margin-bottom: 12px; padding-left: 1em; text-indent: -1em; }
.cv-date { font-weight: 600; color: var(--accent); margin-right: 8px; }

/* --- 修正ポイント4：スマホ対応（シンプルにする） --- */
@media (max-width: 480px) {
    /* 魔法の呪文（!important）はもう不要です。
       bodyがmin-heightで伸び縮みするようになったので、
       自然に任せるだけでレイアウト崩れは起きにくくなります。
    */

    /* スマホで横幅いっぱいにしたくない場合 */
    .card, .card-wide {
        width: 90%;
        margin: 40px auto; /* 上下に余裕を持たせる */
    }
    
    .bottom-grid {
        /* スマホなら縦に積んだほうが押しやすいかも */
        grid-template-columns: 1fr; 
    }
    
    .projects-grid {
        grid-template-columns: 1fr;
    }
}